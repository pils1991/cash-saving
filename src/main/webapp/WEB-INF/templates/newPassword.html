<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head th:replace="../fragments/head">REPLACE BEFORE COMMITTING</head>
<body>
<br>
<div class="form form-restore-password">
    <h1>Enter new Password</h1>
    <form class="needs-validation" th:action="@{/login/forget}" novalidate th:method="POST"
          th:object="${restorePasswordDto}">
        <div class="form-group">
            <div class="control-group">
                <input th:hidden="true" th:field="*{code}" th:classappend="${codeError!=null} ? 'is-invalid'" required/>
                <label class="invalid-feedback" th:if="${codeError!=null}" th:text="${codeError}">[error]</label>
            </div>
        </div>
        <div class="form-group">
            <div class="control-group">
                <label for="password">Password</label>
                <input type="password" class="form-control" th:field="*{password}" placeholder="Enter password"
                       th:classappend="${passwordError!=null} ? 'is-invalid'"
                       required minlength="5"/>
                <label class="invalid-feedback" th:if="${passwordError!=null}"
                       th:text="${passwordError}">[error]</label>
            </div>
        </div>
        <div class="form-group">
            <div class="control-group">
                <label for="password2">Password</label>
                <input type="password" class="form-control" th:field="*{password2}" placeholder="Confirm password"
                       th:classappend="${password2Error!=null} ? 'is-invalid'"
                       oninput='password2.setCustomValidity(password.value !== password2.value ? "Passwords do not match." : "")'
                       required minlength="5"/>
                <label class="invalid-feedback" th:if="${password2Error!=null}"
                       th:text="${password2Error}">[error]</label>
            </div>
        </div>
        <div class="form-group">
            <button type="submit" class="btn-block btn-primary">Restore password</button>
        </div>
        <div class="form-group to-register">
            <span>Not a member? <a href="/registration" th:href="@{/registration}">Register</a></span>
        </div>
        <div class="form-group">
            <a href="/registration" th:href="@{/login}">Sign in</a>
        </div>
    </form>
</div>
<footer th:replace="../fragments/footer"></footer>
</body>
</html>